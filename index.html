<!DOCTYPE html>
<html ng-app="myApp">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title></title>
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
</head>
<body>
    <nav class="navbar navbar-default"></nav>
    <div class="container" ng-controller="CustomerCtrl as vm">
        <h2>{{vm.title}}</h2>
        <hr />
        <div class="row">
            <div class="col-md-3">
                <div class="list-group">
                    <a class="list-group-item" ng-repeat="c in vm.customers">
                        {{c.CompanyName}}
                    </a>
                </div>
            </div>
            <div class="col-md-9">
                <h3>detail</h3>
            </div>
        </div>
        <hr />
        <pre>{{vm.customers}}</pre>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.3/angular.min.js"></script>
    <script>
        angular.module('myApp', ['myCustomers']);

        angular.module('myCustomers', []);
        angular.module('myCustomers').controller('CustomerCtrl', ['customerService', CustomerController]);
        function CustomerController(customerService) {
            var self = this;
            self.title = 'Hello World';
            self.customers = [];

            activate();
            function activate() {
                customerService.getData().then(function (data) {
                    self.customers = data;
                });
            };

        };
        angular.module('myCustomers').factory('customerService', ['$q', customerService])
        function customerService($q) {
            var service = {
                getData: getItems
            };
            return service;

            function getItems() {
                var items = [
                    { CustomerID: 'CUST01', CompanyName: 'Company Name 1', ContactName: 'Contact Name 1' },
                    { CustomerID: 'CUST03', CompanyName: 'Company Name 3', ContactName: 'Contact Name 3' },
                    { CustomerID: 'CUST10', CompanyName: 'Company Name 10', ContactName: 'Contact Name 10' },
                    { CustomerID: 'CUST02', CompanyName: 'Company Name 2', ContactName: 'Contact Name 2' },
                ];
                return $q.when(items);
            };
        };
    </script>
</body>
</html>
